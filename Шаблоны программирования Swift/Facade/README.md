# Facade
<img src="https://github.com/dinozavr2005/ios-library/blob/main/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F%20Swift/Facade/facade.png"/>
Шаблон проектирования или паттерн (англ. design pattern) в разработке программного обеспечения — повторимая архитектурная конструкция, представляющая собой решение проблемы проектирования в рамках некоторого часто возникающего контекста.

Многие сложные системы состоят из огромной кучи компонент. Так же и в жизни, очень часто для совершения одного основного действия, мы должны выполнить много маленьких.

К примеру, чтобы пойти в кино нам надо:

Посмотреть расписание фильмов, выбрать фильм, посмотреть когда есть сеансы, посмотреть когда у нас есть время.

Необходимо купить билет, для этого ввести номер карточки, секретный код, дождаться снятия денег, распечатать билет.
Приехать в кинотеатр, припарковать машину, купить попкорн, найти места, смотреть.

И все это для того, чтобы просто посмотреть фильм, который нам, очень вероятно, не понравится.

Или же возьмем пример Amazon – покупка с одного клика – как много систем задействовано в операции покупки? И проверка Вашей карточки, и проверка Вашего адреса, проверка товара на складе, проверка или возможна доставка даного товара в даную точку мира… В результате очень много действий которые происходят всего по одному клику.

Для таких вот процесов был изобретен паттерн – **Фасад** ( **Facade** ) который предоставляет унифицированный интерфейса к большому количеству интерфейсов системы, в следствии чего систему стает гораздо проще в использовании.

Давайте, попробуем создать систему которая нас переносит в другую точку мира с одного нажатия кнопки! Сначала нам нужна система, которая проложит путь от нашего места перебывания в место назначения:

```swift
class Pathfinder {
    func findCurrentLocation() {
        print("Ищем местоположение... О! Вот ты где!")
    }
    
    func findLocationToTravel(location: String) {
        print("Итак, ты хочешь переместиться в \(location)")
    }
    func maeARoute() {
        print("Отлично! Для путешествия будем заглядывать на Яндекс карты...")
    }
}
```
Так же нам необходима сама система заказа транспорта и собственно путешествия:
```swift
class TravelEngene {
    func findTransport() {
        print("Для путешествия нужны ездовые собаки")
    }
    
    func orderTransport() {
        print("Дайте вот тех, которые в упряжке...")
    }
    func travel() {
        print("Ю-ху! В путь!")
    }
}
```
Ну и какие же путешествия без билетика:
```swift
class TicketPrintingSystem {
    func createTicket() {
        print("Ожидание ответа от базы...")
    }
    
    func printTicket() {
        print("Ответ получен! На собаках? Не забудь покормить их...")
    }
}
```
А теперь, давайте создадим единый доступ ко всем этим системам:
```swift
class TravelSystemFacade {
    func travelTo(aLocation: String) {

        let pf = Pathfinder()
        let te = TravelEngene()
        let tp = TicketPrintingSystem()
        
        pf.findCurrentLocation()
        pf.findLocationToTravel(aLocation)
        pf.maeARoute()
        
        te.findTransport()
        te.orderTransport()
        tp.createTicket()
        tp.printTicket()
        te.travel()
    }
}
```
**Фасад** знает все про все системы, потому в одном методе он берет и транспортирует нас куда следует. Код теста элементарен:
```swift
let facade = TravelSystemFacade()
facade.travelTo("Лондон")

//console:
Ищем местоположение... О! Вот ты где!
Итак, ты хочешь переместиться в Лондон
Отлично! Для путешествия будем заглядывать на Яндекс карты...
Для путешествия нужны ездовые собаки
Дайте вот тех, которые в упряжке...
Ожидание ответа от базы...
Ответ получен! На собаках? Не забудь покормить их...
Ю-ху! В путь!
```


